import{_ as fn,a as Qn}from"./@babel-d426c579.js";import{c as Yn}from"./redux-45c81fac.js";var N=function(n){return"@@redux-saga/"+n},Zn=N("CANCEL_PROMISE"),sn=N("CHANNEL_END"),ln=N("IO"),rn=N("MATCH"),vn=N("MULTICAST"),dn=N("SAGA_ACTION"),gn=N("SELF_CANCELLATION"),$n=N("TASK"),q=N("TASK_CANCEL"),hn=N("TERMINATE"),Jn=N("LOCATION"),En=function(n){return n==null},U=function(n){return n!=null},y=function(n){return typeof n=="function"},V=function(n){return typeof n=="string"},L=Array.isArray,K=function(n){return n&&y(n.then)},Q=function(n){return n&&y(n.next)&&y(n.throw)},an=function e(n){return n&&(V(n)||mn(n)||y(n)||L(n)&&n.every(e))},Y=function(n){return n&&y(n.take)&&y(n.close)},pn=function(n){return y(n)&&n.hasOwnProperty("toString")},mn=function(n){return!!n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype},_n=function(n){return Y(n)&&n[vn]},ne=function(n){return function(){return n}},ee=ne(!0),S=function(){},Sn=function(n){return n},Z=function(n,t){fn(n,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(function(r){n[r]=t[r]})},te=function(n,t){var r;return(r=[]).concat.apply(r,t.map(n))};function H(e,n){var t=e.indexOf(n);t>=0&&e.splice(t,1)}function re(e){var n=!1;return function(){n||(n=!0,e())}}var ae=function(n){throw n},oe=function(n){return{value:n,done:!0}};function z(e,n,t){n===void 0&&(n=ae),t===void 0&&(t="iterator");var r={meta:{name:t},next:e,throw:n,return:oe,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function ce(e,n){var t=n.sagaStack;console.error(e),console.error(t)}var yn=function(n){return Array.apply(null,new Array(n))},ue=function(n){return function(t){return n(Object.defineProperty(t,dn,{value:!0}))}},An=function(n){return n===hn},Cn=function(n){return n===q},xn=function(n){return An(n)||Cn(n)};function Tn(e,n){var t=Object.keys(e),r=t.length,c=0,s,u=L(e)?yn(r):{},o={};function a(){c===r&&(s=!0,n(u))}return t.forEach(function(f){var i=function(v,d){s||(d||xn(v)?(n.cancel(),n(v,d)):(u[f]=v,c++,a()))};i.cancel=S,o[f]=i}),n.cancel=function(){s||(s=!0,t.forEach(function(f){return o[f].cancel()}))},o}function $(e){return{name:e.name||"anonymous",location:Nn(e)}}function Nn(e){return e[Jn]}var fe="Channel's Buffer overflow!",ie=1,se=3,kn=4;function le(e,n){e===void 0&&(e=10);var t=new Array(e),r=0,c=0,s=0,u=function(i){t[c]=i,c=(c+1)%e,r++},o=function(){if(r!=0){var i=t[s];return t[s]=null,r--,s=(s+1)%e,i}},a=function(){for(var i=[];r;)i.push(o());return i};return{isEmpty:function(){return r==0},put:function(i){if(r<e)u(i);else{var l;switch(n){case ie:throw new Error(fe);case se:t[c]=i,c=(c+1)%e,s=c;break;case kn:l=2*e,t=a(),r=t.length,c=t.length,s=0,t.length=l,e=l,u(i);break}}},take:o,flush:a}}var ve=function(n){return le(n,kn)},P="TAKE",Ln="PUT",de="ALL",ge="RACE",he="CALL",Ee="CPS",wn="FORK",pe="JOIN",Rn="CANCEL",In="SELECT",me="ACTION_CHANNEL",Se="CANCELLED",ye="FLUSH",Ae="GET_CONTEXT",Ce="SET_CONTEXT",M=function(n,t){var r;return r={},r[ln]=!0,r.combinator=!1,r.type=n,r.payload=t,r};function Mn(e,n){if(e===void 0&&(e="*"),an(e))return U(n)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),M(P,{pattern:e});if(_n(e)&&U(n)&&an(n))return M(P,{channel:e,pattern:n});if(Y(e))return U(n)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),M(P,{channel:e})}function it(e,n){return En(n)&&(n=e,e=void 0),M(Ln,{channel:e,action:n})}function xe(e,n){var t=null,r;return y(e)?r=e:(L(e)?(t=e[0],r=e[1]):(t=e.context,r=e.fn),t&&V(r)&&y(t[r])&&(r=t[r])),{context:t,fn:r,args:n}}function b(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return M(wn,xe(e,t))}function Te(e){return e===void 0&&(e=gn),M(Rn,e)}function st(e){e===void 0&&(e=Sn);for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return M(In,{selector:e,args:t})}function Ne(){var e={};return e.promise=new Promise(function(n,t){e.resolve=n,e.reject=t}),e}var qn=[],W=0;function ke(e){try{J(),e()}finally{jn()}}function Fn(e){qn.push(e),W||(J(),Un())}function On(e){try{return J(),e()}finally{Un()}}function J(){W++}function jn(){W--}function Un(){jn();for(var e;!W&&(e=qn.shift())!==void 0;)ke(e)}var Le=function(n){return function(t){return n.some(function(r){return _(r)(t)})}},we=function(n){return function(t){return n(t)}},on=function(n){return function(t){return t.type===String(n)}},Re=function(n){return function(t){return t.type===n}},Pn=function(){return ee};function _(e){var n=e==="*"?Pn:V(e)?on:L(e)?Le:pn(e)?on:y(e)?we:mn(e)?Re:null;if(n===null)throw new Error("invalid pattern: "+e);return n(e)}var F={type:sn},nn=function(n){return n&&n.type===sn};function Ie(e){e===void 0&&(e=ve());var n=!1,t=[];function r(o){if(!n){if(t.length===0)return e.put(o);var a=t.shift();a(o)}}function c(o){n&&e.isEmpty()?o(F):e.isEmpty()?(t.push(o),o.cancel=function(){H(t,o)}):o(e.take())}function s(o){if(n&&e.isEmpty()){o(F);return}o(e.flush())}function u(){if(!n){n=!0;var o=t;t=[];for(var a=0,f=o.length;a<f;a++){var i=o[a];i(F)}}}return{take:c,put:r,flush:s,close:u}}function Me(){var e,n=!1,t=[],r=t,c=function(){r===t&&(r=t.slice())},s=function(){n=!0;var o=t=r;r=[],o.forEach(function(a){a(F)})};return e={},e[vn]=!0,e.put=function(o){if(!n){if(nn(o)){s();return}for(var a=t=r,f=0,i=a.length;f<i;f++){var l=a[f];l[rn](o)&&(l.cancel(),l(o))}}},e.take=function(o,a){if(a===void 0&&(a=Pn),n){o(F);return}o[rn]=a,c(),r.push(o),o.cancel=re(function(){c(),H(r,o)})},e.close=s,e}function Dn(){var e=Me(),n=e.put;return e.put=function(t){if(t[dn]){n(t);return}Fn(function(){n(t)})},e}var I=0,k=1,D=2,Kn=3;function en(e,n){var t=e[Zn];y(t)&&(n.cancel=t),e.then(n,function(r){n(r,!0)})}var j=0,Hn=function(){return++j},m;function qe(e,n){return e.isSagaIterator?{name:e.meta.name}:$(n)}function Fe(e){var n=e.context,t=e.fn,r=e.args;try{var c=t.apply(n,r);if(Q(c))return c;var s=!1,u=function(a){return s?{value:a,done:!0}:(s=!0,{value:c,done:!K(c)})};return z(u)}catch(o){return z(function(){throw o})}}function Oe(e,n,t){var r=n.channel,c=n.action,s=n.resolve;Fn(function(){var u;try{u=(r?r.put:e.dispatch)(c)}catch(o){t(o,!0);return}s&&K(u)?en(u,t):t(u)})}function je(e,n,t){var r=n.channel,c=r===void 0?e.channel:r,s=n.pattern,u=n.maybe,o=function(f){if(f instanceof Error){t(f,!0);return}if(nn(f)&&!u){t(hn);return}t(f)};try{c.take(o,U(s)?_(s):null)}catch(a){t(a,!0);return}t.cancel=o.cancel}function Ue(e,n,t,r){var c=n.context,s=n.fn,u=n.args,o=r.task;try{var a=s.apply(c,u);if(K(a)){en(a,t);return}if(Q(a)){G(e,a,o.context,j,$(s),!1,t);return}t(a)}catch(f){t(f,!0)}}function Pe(e,n,t){var r=n.context,c=n.fn,s=n.args;try{var u=function(a,f){En(a)?t(f):t(a,!0)};c.apply(r,s.concat(u)),u.cancel&&(t.cancel=u.cancel)}catch(o){t(o,!0)}}function De(e,n,t,r){var c=n.context,s=n.fn,u=n.args,o=n.detached,a=r.task,f=Fe({context:c,fn:s,args:u}),i=qe(f,s);On(function(){var l=G(e,f,a.context,j,i,o,void 0);o?t(l):l.isRunning()?(a.queue.addTask(l),t(l)):l.isAborted()?a.queue.abort(l.error()):t(l)})}function Ke(e,n,t,r){var c=r.task,s=function(a,f){if(a.isRunning()){var i={task:c,cb:f};f.cancel=function(){a.isRunning()&&H(a.joiners,i)},a.joiners.push(i)}else a.isAborted()?f(a.error(),!0):f(a.result())};if(L(n)){if(n.length===0){t([]);return}var u=Tn(n,t);n.forEach(function(o,a){s(o,u[a])})}else s(n,t)}function B(e){e.isRunning()&&e.cancel()}function He(e,n,t,r){var c=r.task;n===gn?B(c):L(n)?n.forEach(B):B(n),t()}function be(e,n,t,r){var c=r.digestEffect,s=j,u=Object.keys(n);if(u.length===0){t(L(n)?[]:{});return}var o=Tn(n,t);u.forEach(function(a){c(n[a],s,o[a],a)})}function We(e,n,t,r){var c=r.digestEffect,s=j,u=Object.keys(n),o=L(n)?yn(u.length):{},a={},f=!1;u.forEach(function(i){var l=function(d,p){f||(p||xn(d)?(t.cancel(),t(d,p)):(t.cancel(),f=!0,o[i]=d,t(o)))};l.cancel=S,a[i]=l}),t.cancel=function(){f||(f=!0,u.forEach(function(i){return a[i].cancel()}))},u.forEach(function(i){f||c(n[i],s,a[i],i)})}function Ge(e,n,t){var r=n.selector,c=n.args;try{var s=r.apply(void 0,[e.getState()].concat(c));t(s)}catch(u){t(u,!0)}}function Be(e,n,t){var r=n.pattern,c=n.buffer,s=Ie(c),u=_(r),o=function f(i){nn(i)||e.channel.take(f,u),s.put(i)},a=s.close;s.close=function(){o.cancel(),a()},e.channel.take(o,u),t(s)}function Xe(e,n,t,r){var c=r.task;t(c.isCancelled())}function ze(e,n,t){n.flush(t)}function Ve(e,n,t,r){var c=r.task;t(c.context[n])}function Qe(e,n,t,r){var c=r.task;Z(c.context,n),t()}var Ye=(m={},m[P]=je,m[Ln]=Oe,m[de]=be,m[ge]=We,m[he]=Ue,m[Ee]=Pe,m[wn]=De,m[pe]=Ke,m[Rn]=He,m[In]=Ge,m[me]=Be,m[Se]=Xe,m[ye]=ze,m[Ae]=Ve,m[Ce]=Qe,m);function Ze(e,n,t){var r=[],c,s=!1;a(e);var u=function(){return r};function o(i){n(),f(),t(i,!0)}function a(i){r.push(i),i.cont=function(l,v){s||(H(r,i),i.cont=S,v?o(l):(i===e&&(c=l),r.length||(s=!0,t(c))))}}function f(){s||(s=!0,r.forEach(function(i){i.cont=S,i.cancel()}),r=[])}return{addTask:a,cancelAll:f,abort:o,getTasks:u}}function bn(e,n){return e+"?"+n}function $e(e){var n=Nn(e);if(n){var t=n.code,r=n.fileName,c=n.lineNumber,s=t+"  "+bn(r,c);return s}return""}function cn(e){var n=e.name,t=e.location;return t?n+"  "+bn(t.fileName,t.lineNumber):n}function Je(e){var n=te(function(t){return t.cancelledTasks},e);return n.length?["Tasks cancelled due to error:"].concat(n).join(`
`):""}var tn=null,O=[],_e=function(n){n.crashedEffect=tn,O.push(n)},Wn=function(){tn=null,O.length=0},nt=function(n){tn=n},et=function(){var n=O[0],t=O.slice(1),r=n.crashedEffect?$e(n.crashedEffect):null,c="The above error occurred in task "+cn(n.meta)+(r?` 
 when executing effect `+r:"");return[c].concat(t.map(function(s){return"    created by "+cn(s.meta)}),[Je(O)]).join(`
`)};function tt(e,n,t,r,c,s,u){var o;u===void 0&&(u=S);var a=I,f,i,l=null,v=[],d=Object.create(t),p=Ze(n,function(){v.push.apply(v,p.getTasks().map(function(T){return T.meta.name}))},A);function h(){a===I&&(a=k,p.cancelAll(),A(q,!1))}function A(g,T){if(!T)g===q?a=k:a!==k&&(a=Kn),f=g,l&&l.resolve(g);else{if(a=D,_e({meta:c,cancelledTasks:v}),C.isRoot){var w=et();Wn(),e.onError(g,{sagaStack:w})}i=g,l&&l.reject(g)}C.cont(g,T),C.joiners.forEach(function(R){R.cb(g,T)}),C.joiners=null}function E(g){Z(d,g)}function x(){return l||(l=Ne(),a===D?l.reject(i):a!==I&&l.resolve(f)),l.promise}var C=(o={},o[$n]=!0,o.id=r,o.meta=c,o.isRoot=s,o.context=d,o.joiners=[],o.queue=p,o.cancel=h,o.cont=u,o.end=A,o.setContext=E,o.toPromise=x,o.isRunning=function(){return a===I},o.isCancelled=function(){return a===k||a===I&&n.status===k},o.isAborted=function(){return a===D},o.result=function(){return f},o.error=function(){return i},o);return C}function G(e,n,t,r,c,s,u){var o=e.finalizeRunEffect(d);v.cancel=S;var a={meta:c,cancel:l,status:I},f=tt(e,a,t,r,c,s,u),i={task:f,digestEffect:p};function l(){a.status===I&&(a.status=k,v(q))}return u&&(u.cancel=f.cancel),v(),f;function v(h,A){try{var E;A?(E=n.throw(h),Wn()):Cn(h)?(a.status=k,v.cancel(),E=y(n.return)?n.return(q):{done:!0,value:q}):An(h)?E=y(n.return)?n.return():{done:!0}:E=n.next(h),E.done?(a.status!==k&&(a.status=Kn),a.cont(E.value)):p(E.value,r,v)}catch(x){if(a.status===k)throw x;a.status=D,a.cont(x,!0)}}function d(h,A,E){if(K(h))en(h,E);else if(Q(h))G(e,h,f.context,A,c,!1,E);else if(h&&h[ln]){var x=Ye[h.type];x(e,h.payload,E,i)}else E(h)}function p(h,A,E,x){x===void 0&&(x="");var C=Hn();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:C,parentEffectId:A,label:x,effect:h});var g;function T(w,R){g||(g=!0,E.cancel=S,e.sagaMonitor&&(R?e.sagaMonitor.effectRejected(C,w):e.sagaMonitor.effectResolved(C,w)),R&&nt(h),E(w,R))}T.cancel=S,E.cancel=function(){g||(g=!0,T.cancel(),T.cancel=S,e.sagaMonitor&&e.sagaMonitor.effectCancelled(C))},o(h,C,T)}}function rt(e,n){for(var t=e.channel,r=t===void 0?Dn():t,c=e.dispatch,s=e.getState,u=e.context,o=u===void 0?{}:u,a=e.sagaMonitor,f=e.effectMiddlewares,i=e.onError,l=i===void 0?ce:i,v=arguments.length,d=new Array(v>2?v-2:0),p=2;p<v;p++)d[p-2]=arguments[p];var h=n.apply(void 0,d),A=Hn();a&&(a.rootSagaStarted=a.rootSagaStarted||S,a.effectTriggered=a.effectTriggered||S,a.effectResolved=a.effectResolved||S,a.effectRejected=a.effectRejected||S,a.effectCancelled=a.effectCancelled||S,a.actionDispatched=a.actionDispatched||S,a.rootSagaStarted({effectId:A,saga:n,args:d}));var E;if(f){var x=Yn.apply(void 0,f);E=function(T){return function(w,R,Xn){var zn=function(Vn){return T(Vn,R,Xn)};return x(zn)(w)}}}else E=Sn;var C={channel:r,dispatch:ue(c),getState:s,sagaMonitor:a,onError:l,finalizeRunEffect:E};return On(function(){var g=G(C,h,o,A,$(n),!0,void 0);return a&&a.effectResolved(A,g),g})}function lt(e){var n=e===void 0?{}:e,t=n.context,r=t===void 0?{}:t,c=n.channel,s=c===void 0?Dn():c,u=n.sagaMonitor,o=Qn(n,["context","channel","sagaMonitor"]),a;function f(i){var l=i.getState,v=i.dispatch;return a=rt.bind(null,fn({},o,{context:r,channel:s,dispatch:v,getState:l,sagaMonitor:u})),function(d){return function(p){u&&u.actionDispatched&&u.actionDispatched(p);var h=d(p);return s.put(p),h}}}return f.run=function(){return a.apply(void 0,arguments)},f.setContext=function(i){Z(r,i)},f}var un=function(n){return{done:!0,value:n}},X={};function Gn(e){return Y(e)?"channel":pn(e)?String(e):y(e)?e.name:String(e)}function Bn(e,n,t){var r,c,s,u=n;function o(a,f){if(u===X)return un(a);if(f&&!c)throw u=X,f;r&&r(a);var i=f?e[c](f):e[u]();return u=i.nextState,s=i.effect,r=i.stateUpdater,c=i.errorState,u===X?un(a):s}return z(o,function(a){return o(null,a)},t)}function at(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),c=2;c<t;c++)r[c-2]=arguments[c];var s={done:!1,value:Mn(e)},u=function(i){return{done:!1,value:b.apply(void 0,[n].concat(r,[i]))}},o,a=function(i){return o=i};return Bn({q1:function(){return{nextState:"q2",effect:s,stateUpdater:a}},q2:function(){return{nextState:"q1",effect:u(o)}}},"q1","takeEvery("+Gn(e)+", "+n.name+")")}function ot(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),c=2;c<t;c++)r[c-2]=arguments[c];var s={done:!1,value:Mn(e)},u=function(d){return{done:!1,value:b.apply(void 0,[n].concat(r,[d]))}},o=function(d){return{done:!1,value:Te(d)}},a,f,i=function(d){return a=d},l=function(d){return f=d};return Bn({q1:function(){return{nextState:"q2",effect:s,stateUpdater:l}},q2:function(){return a?{nextState:"q3",effect:o(a)}:{nextState:"q1",effect:u(f),stateUpdater:i}},q3:function(){return{nextState:"q1",effect:u(f),stateUpdater:i}}},"q1","takeLatest("+Gn(e)+", "+n.name+")")}function vt(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),c=2;c<t;c++)r[c-2]=arguments[c];return b.apply(void 0,[at,e,n].concat(r))}function dt(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),c=2;c<t;c++)r[c-2]=arguments[c];return b.apply(void 0,[ot,e,n].concat(r))}export{vt as a,st as b,it as p,lt as s,dt as t};
